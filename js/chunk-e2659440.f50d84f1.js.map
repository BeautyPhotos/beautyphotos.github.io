{"version":3,"sources":["webpack:///./src/pages/main.vue?3ad3","webpack:///./src/pages/main.vue?37df","webpack:///src/pages/main.vue","webpack:///./src/pages/main.vue?ae57","webpack:///./src/pages/main.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","showPopup","_e","userInfo","onTabChange","model","value","callback","$$v","tabIndex","expression","_l","item","index","key","name","$event","$router","push","ref","getArticlesDetail","_id","scopedSlots","_u","fn","_v","_s","title","proxy","category","$formatTime","_createTime","imageUrl","imageIndex","directives","rawName","totalCount","pageSize","onPageChange","currentPage","showCustomPageDialog","style","width","height","showMenu","coin","email","role","isShowCustomPageDialog","selectCustomPage","showCustomPage","totalPage","showLoading","staticRenderFns","components","data","tabs","list","created","getMenus","methods","hangleGoUp","document","body","scrollTop","documentElement","goLogin","password","version","device","http","post","then","res","status","endTime","getArticles","pageIndex","id","type","pageCount","totalnum","detailId","page","component"],"mappings":"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","file":"js/chunk-e2659440.f50d84f1.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('van-sticky',[_c('van-row',{staticClass:\"header\"},[(_vm.userInfo)?_c('van-col',{attrs:{\"span\":\"3\"},on:{\"click\":_vm.showPopup}},[_c('van-icon',{staticClass:\"user-icon\",attrs:{\"size\":\"32\",\"name\":\"https://b.yzcdn.cn/vant/icon-demo-1126.png\"}})],1):_vm._e(),_c('van-col',{attrs:{\"span\":_vm.userInfo?18:21}},[_c('van-tabs',{on:{\"change\":_vm.onTabChange},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},_vm._l((_vm.tabs),function(item,index){return _c('van-tab',{key:index,attrs:{\"title\":item.name}})}),1)],1),_c('van-col',{attrs:{\"span\":\"3\"},on:{\"click\":function($event){return _vm.$router.push('search')}}},[_c('van-icon',{staticClass:\"search-icon\",attrs:{\"size\":\"30\",\"name\":\"search\"}})],1)],1)],1),_c('div',{staticClass:\"content\"},[_c('van-list',{ref:\"list\",attrs:{\"error-text\":\"请求失败，点击重新加载\"}},[_vm._l((_vm.list),function(item,index){return _c('van-panel',{key:index,staticClass:\"list-item\",on:{\"click\":function($event){return _vm.getArticlesDetail(item._id)}},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"item-header\"},[_c('span',[_vm._v(_vm._s((index+1)+\"、\"+item.title))]),(_vm.userInfo)?_c('van-icon',{attrs:{\"size\":\"24\",\"name\":\"like-o\"}}):_vm._e()],1)]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"item-footer\"},[_c('span',[_vm._v(_vm._s(item.category))]),_c('span',[_vm._v(_vm._s(_vm.$formatTime(item._createTime)))])])]},proxy:true}],null,true)},[_c('div',{staticClass:\"item-content\"},_vm._l((item.thumbnails),function(imageUrl,imageIndex){return _c('lazy-component',{key:imageIndex,staticClass:\"image\"},[_c('van-image',{staticClass:\"image\",attrs:{\"lazy-load\":\"\",\"src\":imageUrl},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('van-loading',{attrs:{\"type\":\"spinner\",\"size\":\"20\"}})]},proxy:true}],null,true)})],1)}),1)])}),_c('van-cell',{staticClass:\"bottom\"})],2)],1),_c('van-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalCount>0),expression:\"totalCount>0\"}],staticClass:\"footer\"},[_c('van-col',{attrs:{\"span\":\"21\"}},[_c('van-pagination',{attrs:{\"total-items\":_vm.totalCount,\"show-page-size\":5,\"items-per-page\":_vm.pageSize,\"force-ellipses\":\"\"},on:{\"change\":_vm.onPageChange},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),_c('van-col',{attrs:{\"span\":\"3\"}},[_c('van-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.showCustomPageDialog}},[_vm._v(\"指定页\")])],1)],1),_c('van-popup',{staticClass:\"left-menu\",style:({ width: '70%' ,height:'100%' }),attrs:{\"round\":\"\",\"closeable\":\"\",\"position\":\"left\"},model:{value:(_vm.showMenu),callback:function ($$v) {_vm.showMenu=$$v},expression:\"showMenu\"}},[(_vm.userInfo)?_c('van-card',{scopedSlots:_vm._u([{key:\"thumb\",fn:function(){return [_c('van-image',{attrs:{\"round\":\"\",\"width\":\"40px\",\"height\":\"40px\",\"src\":\"https://img.yzcdn.cn/vant/cat.jpeg\"}})]},proxy:true},{key:\"tags\",fn:function(){return [_vm._v(\" 金币：$\"+_vm._s(_vm.userInfo.coin)+\" \"),_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"danger\",\"size\":\"medium\"}},[_vm._v(\"充值\")])]},proxy:true},{key:\"title\",fn:function(){return [_c('div',{staticClass:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.userInfo.email))]),_c('span',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.userInfo.role!= null && _vm.userInfo.role.name== \"vip\"?\"VIP会员\":\"普通会员\"))]),_c('span',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.userInfo.role!= null && _vm.userInfo.role.name== \"vip\"?\"VIP会员\":\"\"))])])]},proxy:true}],null,false,823853608)}):_vm._e(),_c('van-cell',{attrs:{\"title\":\"我的收藏\",\"icon\":\"like-o\"}}),_c('van-cell',{attrs:{\"title\":\"已购主题\",\"icon\":\"completed\"}}),_c('van-cell',{attrs:{\"title\":\"充值中心\",\"icon\":\"gold-coin-o\"}}),_c('van-cell',{attrs:{\"title\":\"关于我们\",\"icon\":\"info-o\"}}),_c('van-cell',{attrs:{\"title\":\"退出登录\",\"icon\":\"upgrade\"}})],1),_c('van-popup',{model:{value:(_vm.isShowCustomPageDialog),callback:function ($$v) {_vm.isShowCustomPageDialog=$$v},expression:\"isShowCustomPageDialog\"}},[_c('van-row',[_c('van-col',{attrs:{\"span\":\"6\",\"align\":\"center\"}},[_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.selectCustomPage(1)}}},[_vm._v(\"《首页\")])],1),_c('van-col',{attrs:{\"span\":\"6\",\"align\":\"center\"}},[_c('van-field',{attrs:{\"size\":\"small\",\"type\":\"digit\"},model:{value:(_vm.showCustomPage),callback:function ($$v) {_vm.showCustomPage=$$v},expression:\"showCustomPage\"}})],1),_c('van-col',{attrs:{\"span\":\"6\",\"align\":\"center\"}},[_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.selectCustomPage(_vm.showCustomPage)}}},[_vm._v(\"跳转》\")])],1),_c('van-col',{attrs:{\"span\":\"6\",\"align\":\"center\"}},[_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.selectCustomPage(_vm.totalPage)}}},[_vm._v(\"尾页》\")])],1)],1)],1),_c('van-overlay',{attrs:{\"show\":_vm.showLoading},on:{\"click\":function($event){_vm.showLoading = false}}},[_c('div',{staticClass:\"wrapper\"},[_c('van-loading',{attrs:{\"color\":\"#fff\",\"size\":\"60\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"main\">\n    <van-sticky>\n      <van-row class=\"header\">\n        <van-col span=\"3\" @click=\"showPopup\" v-if=\"userInfo\">\n          <van-icon class=\"user-icon\" size=\"32\" name=\"https://b.yzcdn.cn/vant/icon-demo-1126.png\" />\n        </van-col>\n        <van-col :span=\"userInfo?18:21\">\n          <van-tabs @change=\"onTabChange\" v-model=\"tabIndex\">\n            <van-tab v-for=\"(item,index) in tabs\" :title=\"item.name\" :key=\"index\" />\n          </van-tabs>\n        </van-col>\n        <van-col span=\"3\" @click=\"$router.push('search')\">\n          <van-icon size=\"30\" class=\"search-icon\" name=\"search\"  />\n        </van-col>\n      </van-row>\n    </van-sticky>\n    <div class=\"content\">\n      <van-list ref=\"list\" error-text=\"请求失败，点击重新加载\">\n        <van-panel\n          class=\"list-item\"\n          v-for=\"(item,index) in list\"\n          :key=\"index\"\n          @click=\"getArticlesDetail(item._id)\"\n        >\n          <template #header>\n            <div class=\"item-header\">\n              <span>{{(index+1)+\"、\"+item.title}}</span>\n              <van-icon size=\"24\" name=\"like-o\" v-if=\"userInfo\" />\n            </div>\n          </template>\n          <div class=\"item-content\">\n            <lazy-component\n              class=\"image\"\n              v-for=\"(imageUrl,imageIndex) in item.thumbnails\"\n              :key=\"imageIndex\"\n            >\n              <van-image class=\"image\" lazy-load :src=\"imageUrl\">\n                <template v-slot:loading>\n                  <van-loading type=\"spinner\" size=\"20\" />\n                </template>\n              </van-image>\n            </lazy-component>\n          </div>\n          <template #footer>\n            <div class=\"item-footer\">\n              <span>{{item.category}}</span>\n              <span>{{$formatTime(item._createTime)}}</span>\n            </div>\n          </template>\n        </van-panel>\n        <van-cell class=\"bottom\" />\n      </van-list>\n    </div>\n    <van-row class=\"footer\" v-show=\"totalCount>0\">\n      <van-col span=\"21\">\n        <van-pagination\n          @change=\"onPageChange\"\n          v-model=\"currentPage\"\n          :total-items=\"totalCount\"\n          :show-page-size=\"5\"\n          :items-per-page=\"pageSize\"\n          force-ellipses\n        />\n      </van-col>\n      <van-col span=\"3\">\n        <van-button type=\"info\" @click=\"showCustomPageDialog\">指定页</van-button>\n      </van-col>\n    </van-row>\n\n    <van-popup\n      v-model=\"showMenu\"\n      class=\"left-menu\"\n      round\n      closeable\n      position=\"left\"\n      :style=\"{ width: '70%' ,height:'100%' }\"\n    >\n      <van-card v-if=\"userInfo\">\n        <template #thumb>\n          <van-image round width=\"40px\" height=\"40px\" src=\"https://img.yzcdn.cn/vant/cat.jpeg\" />\n        </template>\n        <template #tags>\n          金币：${{userInfo.coin}}\n          <van-tag plain type=\"danger\" size=\"medium\">充值</van-tag>\n        </template>\n        <template #title>\n          <div class=\"title\">\n            <span>{{userInfo.email}}</span>\n            <span class=\"desc\">{{userInfo.role!= null && userInfo.role.name== \"vip\"?\"VIP会员\":\"普通会员\"}}</span>\n            <span class=\"desc\">{{userInfo.role!= null && userInfo.role.name== \"vip\"?\"VIP会员\":\"\"}}</span>\n          </div>\n        </template>\n      </van-card>\n      <van-cell title=\"我的收藏\" icon=\"like-o\" />\n      <van-cell title=\"已购主题\" icon=\"completed\" />\n      <van-cell title=\"充值中心\" icon=\"gold-coin-o\" />\n      <van-cell title=\"关于我们\" icon=\"info-o\" />\n      <van-cell title=\"退出登录\" icon=\"upgrade\" />\n    </van-popup>\n    <van-popup v-model=\"isShowCustomPageDialog\">\n      <van-row>\n        <van-col span=\"6\" align=\"center\">\n          <van-button size=\"small\" type=\"info\" @click=\"selectCustomPage(1)\">《首页</van-button>\n        </van-col>\n        <van-col span=\"6\" align=\"center\">\n          <van-field v-model=\"showCustomPage\" size=\"small\" type=\"digit\" />\n        </van-col>\n        <van-col span=\"6\" align=\"center\">\n          <van-button size=\"small\" type=\"info\" @click=\"selectCustomPage(showCustomPage)\">跳转》</van-button>\n        </van-col>\n        <van-col span=\"6\" align=\"center\">\n          <van-button size=\"small\" type=\"info\" @click=\"selectCustomPage(totalPage)\">尾页》</van-button>\n        </van-col>\n      </van-row>\n    </van-popup>\n    <van-overlay :show=\"showLoading\" @click=\"showLoading = false\">\n      <div class=\"wrapper\">\n        <van-loading color=\"#fff\" size=\"60\" />\n      </div>\n    </van-overlay>\n  </div>\n</template>\n\n<script>\nimport {\n  Tabs,\n  Tab,\n  Row,\n  Tag,\n  Col,\n  Icon,\n  Cell,\n  Popup,\n  Sticky,\n  List,\n  Pagination,\n  Panel,\n  Loading,\n  Image,\n  Button,\n  Card,\n  Overlay,\n  Field,\n  Toast\n} from \"vant\";\n\nexport default {\n  components: {\n    [Tabs.name]: Tabs,\n    [Tab.name]: Tab,\n    [Row.name]: Row,\n    [Tag.name]: Tag,\n    [Col.name]: Col,\n    [Cell.name]: Cell,\n    [Field.name]: Field,\n    [Icon.name]: Icon,\n    [Popup.name]: Popup,\n    [Loading.name]: Loading,\n    [Sticky.name]: Sticky,\n    [List.name]: List,\n    [Panel.name]: Panel,\n    [Image.name]: Image,\n    [Button.name]: Button,\n    [Card.name]: Card,\n    [Overlay.name]: Overlay,\n    [Pagination.name]: Pagination\n  },\n\n  data() {\n    return {\n      tabs: [],\n      list: [],\n      isShowCustomPageDialog: false,\n      showCustomPage: 0,\n      showMenu: false,\n      showLoading: false,\n      totalPage: 0,\n      totalCount: 0,\n      totalPage: 0,\n      pageSize: 10,\n      currentPage: 1,\n      tabIndex: 0,\n      userInfo: null,\n      endTime: \"\"\n    };\n  },\n  created() {\n    this.getMenus();\n    // this.goLogin();\n  },\n  methods: {\n    hangleGoUp() {\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n    },\n    goLogin() {\n      let data = {\n        email: \" \",\n        password: \" \",\n        version: \"1.0.1\",\n        device: \"h5\"\n      };\n\n      http.post(\"/user/login\", data).then(res => {\n        // console.log(res)\n        if (res.status == 0) {\n          this.tabs = res.data.menu;\n          this.userInfo = res.data.userInfo;\n          try {\n            if (res.data.userInfo.role.endTime) {\n              this.endTime = formatTime(res.data.userInfo.role.endTime);\n            }\n          } catch (error) {}\n\n          this.$setToken(res.data.userInfo.token);\n          this.getArticles();\n        }\n      });\n    },\n    getMenus() {\n      let data = {\n        version: \"1.0.1\",\n        device: \"h5\"\n      };\n\n      http.post(\"/user/categorys\", data).then(res => {\n        if (res.status == 0 && res.data) {\n          this.tabs = res.data;\n          this.getArticles();\n        }\n      });\n    },\n\n    getArticles() {\n      let param = {\n        pageIndex: this.currentPage - 1, //页码\n        pageSize: this.pageSize,\n        category: this.tabs[this.tabIndex].id,\n        type: 0\n      };\n      this.showLoading = true;\n      http\n        .post(\"/article/paging\", param, {\n          headers: { token: this.$getToken() }\n        })\n        .then(res => {\n          // console.log(res);\n          this.showLoading = false;\n          if (res.status == 0) {\n            if (this.currentPage - 1 == res.data.pageIndex) {\n              this.totalPage = this.pageCount(\n                res.data.totalCount,\n                res.data.pageSize\n              );\n              this.totalCount = res.data.totalCount;\n              this.list = res.data.list;\n              this.hangleGoUp();\n            }\n          }\n        });\n    },\n    pageCount(totalnum, limit) {\n      return totalnum > 0\n        ? totalnum < limit\n          ? 1\n          : totalnum % limit\n          ? parseInt(totalnum / limit) + 1\n          : totalnum / limit\n        : 0;\n    },\n    getArticlesDetail(detailId) {\n      let param = {\n        _id: detailId\n      };\n      this.showLoading = true;\n      http\n        .post(\"/article/detail\", param, {\n          headers: { token: this.$getToken() }\n        })\n        .then(res => {\n          this.showLoading = false;\n          if (res.status == 0) {\n            if (res.data && res.data.title) {\n              localStorage.setItem(\"article_detail\", JSON.stringify(res.data));\n              window._article_detail = res.data;\n              this.$router.push(\"detail\");\n            }\n          }\n        });\n    },\n    onTabChange(index) {\n      this.currentPage = 1;\n      this.tabIndex = index;\n      this.getArticles();\n    },\n    onPageChange() {\n      this.getArticles();\n    },\n    showPopup() {\n      if (!this.userInfo) {\n        this.showMenu = false;\n        return;\n      }\n      this.showMenu = !this.showMenu;\n    },\n    selectCustomPage(page) {\n      // console.log(page);\n      if (page > 0 && page <= this.totalPage) {\n        this.currentPage = page;\n      }else{\n        this.currentPage = this.totalPage;\n      }\n      this.isShowCustomPageDialog = false;\n       this.getArticles();\n    },\n    showCustomPageDialog() {\n      this.showCustomPage = this.currentPage;\n      this.isShowCustomPageDialog = !this.isShowCustomPageDialog;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.header {\n  background: #fff;\n}\n.user-icon {\n  margin-top: 6px;\n  margin-left: 10px;\n}\n.search-icon {\n  margin-top: 6px;\n  margin-left: 10px;\n}\n.content {\n  .list-item {\n    border-style: solid;\n    border-width: 0 0 8px 0px;\n    border-color: #ebedf0;\n  }\n  .item-header {\n    display: flex;\n    flex-direction: row;\n    padding: 0px 16px;\n    justify-content: space-between;\n    align-items: center;\n    border-style: solid;\n    border-width: 0 0 1px 0px;\n    border-color: #ebedf0;\n    span {\n      color: #323233;\n      font-size: 18px;\n      padding: 8px 0px;\n    }\n  }\n  .item-content {\n    display: flex;\n    flex-direction: row;\n    padding: 5px 16px 1px 16px;\n    justify-content: space-between;\n  }\n  .item-footer {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    span {\n      color: #969799;\n      font-size: 12px;\n      line-height: 16px;\n    }\n  }\n  .image {\n    width: 22vw;\n    height: 22vw;\n  }\n}\n.left-menu {\n  .van-card__thumb {\n    width: 40px;\n    height: 40px;\n  }\n  .title {\n    display: flex;\n    flex-direction: column;\n    color: #323233;\n    font-size: 16px;\n    .desc {\n      color: #646566;\n      font-size: 12px;\n    }\n  }\n}\n.van-popup {\n  width: 80vw;\n  padding: 10px;\n  border-radius: 10px;\n  .van-field {\n    padding: 3px 0px;\n    height: 30px;\n    width: 60px;\n    border: 1px solid #1989fa;\n  }\n}\n.bottom {\n  height: 40px;\n}\n.footer {\n  position: fixed;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  font-size: 12px;\n  background: #fff;\n  .van-pagination {\n    font-size: 12px;\n  }\n  .van-button {\n    width: 48px;\n    line-height: 40px;\n    height: 40px;\n    padding: 0 4px;\n    font-size: 12px;\n  }\n}\n.wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=a95acc3c&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}